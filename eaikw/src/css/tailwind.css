/* stylelint-disable declaration-block-trailing-semicolon */
/* ==========================================================================
   Tailwind CSS - Swiss Design System
   Utility-first approach with minimal custom CSS for DRY principles
   ========================================================================== */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Component Layer - Reusable UI Patterns */
@layer components {
  /* Swiss Grid Container with Mathematical Precision */
  .swiss-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: var(--swiss-grid-gutter);
    padding-left: var(--swiss-grid-margin);
    padding-right: var(--swiss-grid-margin);
    max-width: 1440px;
    margin-left: auto;
    margin-right: auto;
  }

  /* Swiss Grid Span Utilities */
  .swiss-col-1 {
    grid-column: span 1;
  }
  .swiss-col-2 {
    grid-column: span 2;
  }
  .swiss-col-3 {
    grid-column: span 3;
  }
  .swiss-col-4 {
    grid-column: span 4;
  }
  .swiss-col-5 {
    grid-column: span 5;
  }
  .swiss-col-6 {
    grid-column: span 6;
  }
  .swiss-col-7 {
    grid-column: span 7;
  }
  .swiss-col-8 {
    grid-column: span 8;
  }
  .swiss-col-9 {
    grid-column: span 9;
  }
  .swiss-col-10 {
    grid-column: span 10;
  }
  .swiss-col-11 {
    grid-column: span 11;
  }
  .swiss-col-12 {
    grid-column: span 12;
  }

  /* Asymmetric Grid Patterns - Very Swiss */
  .swiss-asymmetric-hero {
    display: grid;
    grid-template-columns: 5fr 7fr;
    gap: var(--space-4xl);
  }

  .swiss-asymmetric-content {
    display: grid;
    grid-template-columns: 7fr 5fr;
    gap: var(--space-3xl);
  }

  @media (max-width: 768px) {
    .swiss-grid {
      grid-template-columns: repeat(4, 1fr);
    }
    .swiss-asymmetric-hero,
    .swiss-asymmetric-content {
      grid-template-columns: 1fr;
    }
    /* Make all swiss-col spans full width on mobile */
    .swiss-col-1,
    .swiss-col-2,
    .swiss-col-3,
    .swiss-col-4,
    .swiss-col-5,
    .swiss-col-6,
    .swiss-col-7,
    .swiss-col-8,
    .swiss-col-9,
    .swiss-col-10,
    .swiss-col-11,
    .swiss-col-12 {
      grid-column: span 4;
    }
  }

  /* Swiss Buttons - Minimal, Geometric */
  .btn-swiss {
    @apply inline-flex items-center justify-center gap-2 px-8 py-4 min-h-[56px] font-bold uppercase tracking-wider text-sm border-2 transition-all duration-200;

    border-color: var(--swiss-black);
    background-color: var(--swiss-white);
    color: var(--swiss-black);
    text-decoration: none;
  }

  .btn-swiss:hover {
    background-color: var(--swiss-black);
    color: var(--swiss-white);
  }

  .btn-swiss:focus-visible {
    outline: 2px solid var(--swiss-black);
    outline-offset: 2px;
  }

  .btn-swiss-primary {
    @apply inline-flex items-center justify-center gap-2 px-8 py-4 min-h-[56px] font-bold uppercase tracking-wider text-sm border-2 transition-all duration-200;

    background-color: var(--swiss-black);
    color: var(--swiss-white);
    border-color: var(--swiss-black);
    text-decoration: none;
  }

  .btn-swiss-primary:hover {
    background-color: var(--swiss-red);
    border-color: var(--swiss-red);
    color: var(--swiss-white);
  }

  .btn-swiss-primary:focus-visible {
    outline: 2px solid var(--swiss-red);
    outline-offset: 2px;
  }

  .btn-swiss-accent {
    @apply inline-flex items-center justify-center gap-2 px-8 py-4 min-h-[56px] font-bold uppercase tracking-wider text-sm border-2 transition-all duration-200;

    background-color: var(--swiss-red);
    color: var(--swiss-white);
    border-color: var(--swiss-red);
    text-decoration: none;
  }

  .btn-swiss-accent:hover {
    background-color: var(--swiss-red-dark);
    border-color: var(--swiss-red-dark);
    color: var(--swiss-white);
  }

  .btn-swiss-accent:focus-visible {
    outline: 2px solid var(--swiss-red);
    outline-offset: 2px;
  }

  /* Button Base - WCAG compliant 44x44px minimum touch target */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3 min-h-[44px] font-medium rounded border-2 transition-all duration-200;
  }

  /* Button Variants with full state support */
  .btn-primary {
    @apply btn bg-primary-600 text-white border-transparent hover:bg-primary-700 focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 active:bg-primary-800 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-primary-600;
  }

  .btn-secondary {
    @apply btn bg-transparent text-neutral-900 border-neutral-300 hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-neutral-500 focus-visible:ring-offset-2 active:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent;
  }

  .btn-outline {
    @apply btn bg-transparent text-primary-600 border-primary-600 hover:bg-primary-600 hover:text-white focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 active:bg-primary-700 active:border-primary-700 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent disabled:hover:text-primary-600;
  }

  /* Swiss Container */
  .swiss-container {
    @apply max-w-6xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Swiss Section Divider - Structural Line */
  .swiss-divider {
    border-top: 3px solid var(--swiss-black);
    margin-top: var(--space-2xl);
    margin-bottom: var(--space-2xl);
  }

  .swiss-divider-thin {
    border-top: 1px solid var(--swiss-gray-300);
    margin-top: var(--space-2xl);
    margin-bottom: var(--space-2xl);
  }

  /* Swiss Prose Styles - Typography for Content */
  .prose-swiss {
    color: var(--swiss-black);
    font-size: var(--fluid-body);
    line-height: 1.6;
    max-width: 65ch;
  }

  .prose-swiss > * + * {
    margin-top: 1em;
  }

  /* Mobile adjustments for prose-swiss */
  @media (max-width: 640px) {
    .prose-swiss {
      font-size: clamp(0.9375rem, 2vw, 1rem);
    }
    .prose-swiss h2 {
      font-size: clamp(1.5rem, 5vw, 2rem);
    }
    .prose-swiss h3 {
      font-size: clamp(1.25rem, 4vw, 1.5rem);
    }
    .prose-swiss h4 {
      font-size: clamp(1.125rem, 3.5vw, 1.25rem);
    }
  }

  .prose-swiss h2 {
    font-size: var(--fluid-h2);
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.01em;
    border-top: 2px solid var(--swiss-black);
    margin-top: 1em;
    padding-top: 0.5em;
    margin-bottom: 0.5em;
  }

  .prose-swiss h3 {
    font-size: var(--fluid-h3);
    font-weight: 700;
    line-height: 1.3;
    letter-spacing: -0.01em;
    margin-top: 1.25em;
    margin-bottom: 0.25em;
  }

  .prose-swiss h4 {
    font-size: var(--fluid-h4);
    font-weight: 700;
    line-height: 1.4;
    margin-top: 1em;
    margin-bottom: 0.25em;
  }

  .prose-swiss p {
    margin-top: 0.75em;
    margin-bottom: 0.75em;
  }
  .prose-swiss strong {
    font-weight: 700;
    color: var(--swiss-black);
  }

  .prose-swiss ul,
  .prose-swiss ol {
    margin-top: 0.75em;
    margin-bottom: 0.75em;
    padding-left: 2em;
  }

  .prose-swiss ul {
    list-style-type: none;
  }

  .prose-swiss ul > li {
    position: relative;
    padding-left: 1.5em;
  }

  .prose-swiss ul > li::before {
    content: "—";
    position: absolute;
    left: 0;
    color: var(--swiss-red);
    font-weight: 700;
  }

  .prose-swiss ol {
    list-style-type: decimal;
  }

  .prose-swiss ol > li {
    padding-left: 0.5em;
  }

  .prose-swiss li {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }

  .prose-swiss a {
    color: var(--swiss-black);
    text-decoration: underline;
    text-decoration-color: var(--swiss-red);
    text-decoration-thickness: 2px;
    text-underline-offset: 3px;
    font-weight: 600;
  }

  .prose-swiss a:hover {
    background-color: var(--swiss-red);
    color: var(--swiss-white);
    text-decoration: none;
  }

  .prose-swiss code {
    background-color: var(--swiss-gray-100);
    color: var(--swiss-black);
    padding: 0.125em 0.375em;
    font-size: 0.9em;
    font-family: "Courier New", Courier, monospace;
    border: 1px solid var(--swiss-gray-300);
  }

  .prose-swiss pre {
    background-color: var(--swiss-gray-100);
    border-left: 4px solid var(--swiss-black);
    padding: 1.5em;
    margin-top: 1.5em;
    margin-bottom: 1.5em;
    overflow-x: auto;
  }

  .prose-swiss pre code {
    background-color: transparent;
    padding: 0;
    border: none;
  }

  .prose-swiss blockquote {
    border-left: 4px solid var(--swiss-red);
    padding-left: 1.5em;
    font-style: italic;
    color: var(--swiss-gray-700);
    margin-top: 1.5em;
    margin-bottom: 1.5em;
  }

  /* AI Voice Callout - Breaking the Fourth Wall */
  .prose-swiss .ai-voice {
    background-color: var(--swiss-black);
    color: var(--swiss-white);
    padding: 1.5em;
    margin-top: 2em;
    margin-bottom: 2em;
    border-top: 4px solid var(--swiss-red);
    border-bottom: 4px solid var(--swiss-red);
    font-style: normal;
    position: relative;
  }

  .prose-swiss .ai-voice::before {
    content: "→ AI PERSPECTIVE";
    display: block;
    font-size: 0.75em;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--swiss-red);
    margin-bottom: 0.75em;
  }

  .prose-swiss .ai-voice p {
    color: var(--swiss-white);
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }

  .prose-swiss .ai-voice p:first-of-type {
    margin-top: 0;
  }

  .prose-swiss .ai-voice p:last-child {
    margin-bottom: 0;
  }

  .prose-swiss .ai-voice strong {
    color: var(--swiss-red);
  }

  .prose-swiss .ai-voice a {
    color: var(--swiss-white);
    text-decoration-color: var(--swiss-red);
  }

  .prose-swiss .ai-voice a:hover {
    background-color: var(--swiss-red);
    color: var(--swiss-black);
  }

  .prose-swiss hr {
    border: none;
    border-top: 2px solid var(--swiss-black);
    margin-top: 3em;
    margin-bottom: 3em;
  }

  .prose-swiss img {
    max-width: 100%;
    height: auto;
    margin-top: 2em;
    margin-bottom: 2em;
    border: 2px solid var(--swiss-black);
  }

  .prose-swiss table {
    width: 100%;
    margin-top: 2em;
    margin-bottom: 2em;
    border-collapse: collapse;
  }

  .prose-swiss th {
    background-color: var(--swiss-black);
    color: var(--swiss-white);
    font-weight: 700;
    text-align: left;
    padding: 0.75em 1em;
    text-transform: uppercase;
    font-size: 0.875em;
    letter-spacing: 0.05em;
  }

  .prose-swiss td {
    border: 1px solid var(--swiss-gray-300);
    padding: 0.75em 1em;
  }

  .prose-swiss tbody tr:nth-child(even) {
    background-color: var(--swiss-gray-100);
  }

  /* Footer Link */
  .footer-link {
    @apply text-neutral-400 hover:text-white transition-colors duration-200;
  }

  /* Section Padding */
  .section-padding {
    @apply py-16 md:py-20;
  }

  /* Card Image Height */
  .card-image-height {
    @apply h-48 w-full object-cover;
  }

  /* Image Loading Skeleton */
  .image-skeleton {
    @apply bg-gradient-to-r from-neutral-200 via-neutral-100 to-neutral-200 bg-[length:200%_100%] animate-[shimmer_2s_ease-in-out_infinite];
  }
}

/* Shimmer animation for skeleton loading */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@layer base {
  /* Disable global smooth scrolling to prevent navigation jumps */
  html {
    scroll-behavior: auto;
  }

  /* CSS Custom Properties - International Typographic Style (Swiss Design) */
  :root {
    /* Swiss Grid System - Mathematical Precision */
    --swiss-grid-columns: 12;
    --swiss-grid-gutter: 1.5rem;
    --swiss-grid-margin: clamp(1.5rem, 5vw, 4rem);
    --swiss-column-width: calc(
      (100% - (var(--swiss-grid-gutter) * (var(--swiss-grid-columns) - 1))) /
        var(--swiss-grid-columns)
    );

    /* Swiss Spacing System - Mobile First, Efficient */
    --space-xs: 0.25rem; /* 4px */
    --space-sm: 0.5rem; /* 8px */
    --space-md: 0.75rem; /* 12px */
    --space-lg: 1rem; /* 16px */
    --space-xl: 1.5rem; /* 24px */
    --space-2xl: 2rem; /* 32px */
    --space-3xl: 2.5rem; /* 40px */
    --space-4xl: 3rem; /* 48px */
    --space-5xl: 4rem; /* 64px */

    /* Fluid Spacing with clamp for responsive scaling */
    --swiss-section-inline: clamp(1rem, 3vw, 3rem);
    --swiss-section-block: clamp(4rem, 8vw, 8rem);
    --swiss-container-padding: clamp(1rem, 4vw, 2rem);

    /* Swiss Typography Scale - Efficient, Mobile-First */
    --fluid-display: clamp(2rem, 6vw + 1rem, 3.5rem); /* Display: 32-56px */
    --fluid-h1: clamp(1.75rem, 5vw + 0.5rem, 3rem); /* H1: 28-48px */
    --fluid-h2: clamp(1.5rem, 4vw + 0.5rem, 2.25rem); /* H2: 24-36px */
    --fluid-h3: clamp(1.25rem, 3vw + 0.5rem, 1.75rem); /* H3: 20-28px */
    --fluid-h4: clamp(1.125rem, 2vw + 0.25rem, 1.375rem); /* H4: 18-22px */
    --fluid-body-lg: clamp(1.125rem, 1vw + 0.5rem, 1.25rem);
    --fluid-body: clamp(1rem, 0.5vw + 0.75rem, 1.125rem);
    --fluid-body-sm: clamp(0.875rem, 0.5vw + 0.5rem, 1rem);
    --fluid-caption: clamp(0.75rem, 0.5vw + 0.25rem, 0.875rem);

    /* Swiss Color System - Minimal Palette */
    --swiss-black: #000000;
    --swiss-white: #ffffff;
    --swiss-gray-100: #f5f5f5;
    --swiss-gray-200: #e5e5e5;
    --swiss-gray-300: #d4d4d4;
    --swiss-gray-400: #a3a3a3;
    --swiss-gray-500: #737373;
    --swiss-gray-600: #525252;
    --swiss-gray-700: #404040;
    --swiss-gray-800: #262626;
    --swiss-gray-900: #171717;
    --swiss-red: #e53e3e; /* Accent color - use sparingly */
    --swiss-red-dark: #c53030;

    /* Shadow System for depth hierarchy */
    --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04);
    --shadow-medium: 0 4px 12px rgba(16, 21, 34, 0.08), 0 2px 4px rgba(16, 21, 34, 0.04);
    --shadow-strong: 0 24px 48px rgba(16, 21, 34, 0.12), 0 12px 24px rgba(16, 21, 34, 0.08);
    --shadow-hover: 0 40px 80px rgba(16, 21, 34, 0.16), 0 20px 40px rgba(16, 21, 34, 0.12);

    /* Border Radius Scale */
    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;

    /* Transition Timing */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Base Typography with font features */
  html {
    font-feature-settings:
      "kern" 1,
      "liga" 1,
      "calt" 1;
  }

  /* Advanced Typography Features */
  /* Text balancing for headlines - prevents orphans */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    text-wrap: balance;
  }

  /* Hyphenation for narrow viewports */
  @media (max-width: 640px) {
    p,
    li,
    dd {
      hyphens: auto;
      hyphenate-limit-chars: 6 3 2;
    }
  }

  /* Additional OpenType features for improved readability */
  body {
    font-feature-settings:
      "kern" 1,
      "liga" 1,
      "calt" 1,
      "onum" 1;
    font-variant-numeric: oldstyle-nums;
  }

  /* Disable oldstyle numbers in specific contexts */
  code,
  kbd,
  samp,
  pre,
  [data-component="header"],
  [data-component="footer"] {
    font-variant-numeric: lining-nums;
    font-feature-settings:
      "kern" 1,
      "liga" 1,
      "calt" 1;
  }
}

@layer components {
  /* Container - Only essential custom class */
  .swiss-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Glassmorphism Effects */
  .glass-light {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(12px) saturate(120%);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  .glass-dark {
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(12px) saturate(120%);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Fallback for browsers without backdrop-filter */
  @supports not (backdrop-filter: blur(12px)) {
    .glass-light {
      background: rgba(255, 255, 255, 0.95);
    }
    .glass-dark {
      background: rgba(0, 0, 0, 0.85);
    }
  }

  /* Fluid Typography Utilities */
  .text-display {
    font-size: var(--fluid-display);
    line-height: 1.05;
    letter-spacing: -0.025em;
  }

  .text-fluid-h1 {
    font-size: var(--fluid-h1);
    line-height: 1.1;
    letter-spacing: -0.025em;
  }

  .text-fluid-h2 {
    font-size: var(--fluid-h2);
    line-height: 1.2;
    letter-spacing: -0.025em;
  }

  .text-fluid-h3 {
    font-size: var(--fluid-h3);
    line-height: 1.3;
    letter-spacing: -0.02em;
  }

  .text-fluid-body-lg {
    font-size: var(--fluid-body-lg);
    line-height: 1.6;
  }

  .text-fluid-body {
    font-size: var(--fluid-body);
    line-height: 1.7;
  }

  .text-fluid-body-sm {
    font-size: var(--fluid-body-sm);
    line-height: 1.5;
  }

  .text-fluid-caption {
    font-size: var(--fluid-caption);
    line-height: 1.4;
  }

  /* Hover Effects - Swiss Design Micro-interactions */
  @media (hover: hover) {
    .hover-lift {
      transition:
        transform var(--transition-base),
        box-shadow var(--transition-base);
    }

    .hover-lift:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-hover);
    }

    .hover-glow {
      position: relative;
      transition: box-shadow var(--transition-base);
    }

    .hover-glow:hover {
      box-shadow:
        0 0 20px rgba(37, 99, 235, 0.3),
        0 0 40px rgba(37, 99, 235, 0.1);
    }

    .hover-scale {
      transition: transform var(--transition-base);
    }

    .hover-scale:hover {
      transform: scale(1.02);
    }
  }

  /* Grid Patterns */
  .grid-asymmetric {
    display: grid;
    grid-template-columns: minmax(0, 1fr) minmax(0, 0.95fr);
    gap: clamp(2rem, 4vw, 4rem);
  }

  @media (max-width: 768px) {
    .grid-asymmetric {
      grid-template-columns: 1fr;
    }
  }
}

@layer utilities {
  /* Shadow Utilities */
  .shadow-swiss-sm {
    box-shadow: var(--shadow-subtle);
  }

  .shadow-swiss-md {
    box-shadow: var(--shadow-medium);
  }

  .shadow-swiss-lg {
    box-shadow: var(--shadow-strong);
  }

  .shadow-swiss-hover {
    box-shadow: var(--shadow-hover);
  }

  /* Performance: Content Visibility */
  @supports (content-visibility: auto) {
    [data-section] {
      content-visibility: auto;
      contain-intrinsic-size: 0 800px;
    }

    [data-component="blog-card"],
    [data-component="project-card"] {
      content-visibility: auto;
      contain-intrinsic-size: 0 400px;
    }
  }
}

/* Minimal global styles */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background-color: #f5f5f5;
}

::-webkit-scrollbar-thumb {
  background-color: #a3a3a3;
}

::-webkit-scrollbar-thumb:hover {
  background-color: #737373;
}

::selection {
  background-color: #2563eb;
  color: #ffffff;
}

:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

/* Accessibility - Motion & Transparency Preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .hover-lift:hover,
  .hover-scale:hover {
    transform: none !important;
  }
}

@media (prefers-reduced-transparency: reduce) {
  .glass-light {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: none !important;
  }

  .glass-dark {
    background: rgba(0, 0, 0, 0.9) !important;
    backdrop-filter: none !important;
  }
}

/* Advanced Features: Scroll-Driven Animations */
@supports (animation-timeline: view()) {
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-in-left {
    from {
      opacity: 0;
      transform: translateX(-40px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slide-in-right {
    from {
      opacity: 0;
      transform: translateX(40px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .scroll-fade-in {
    animation: fade-in linear;
    animation-timeline: view();
    animation-range: entry 0% cover 30%;
  }

  .scroll-slide-left {
    animation: slide-in-left linear;
    animation-timeline: view();
    animation-range: entry 0% cover 30%;
  }

  .scroll-slide-right {
    animation: slide-in-right linear;
    animation-timeline: view();
    animation-range: entry 0% cover 30%;
  }
}

/* P3 Color Space for Wide-Gamut Displays */
@media (color-gamut: p3) {
  :root {
    --color-primary-p3: color(display-p3 0.231 0.51 0.961);
    --color-primary-light-p3: color(display-p3 0.231 0.51 0.965);
    --color-accent-p3: color(display-p3 0.961 0.62 0.043);
  }

  .text-primary-p3 {
    color: var(--color-primary-p3);
  }

  .bg-primary-p3 {
    background-color: var(--color-primary-p3);
  }
}

/* HDR Support for High Dynamic Range Displays */
@media (dynamic-range: high) {
  :root {
    /* Enhanced colors with higher luminance for HDR displays */
    --color-primary-hdr: color(display-p3 0.25 0.55 1);
    --color-accent-hdr: color(display-p3 1 0.65 0.05);
    --color-highlight-hdr: color(display-p3 1 0.95 0.85);

    /* Brighter whites and deeper blacks for HDR */
    --color-white-hdr: color(display-p3 1 1 1);
    --color-black-hdr: color(display-p3 0 0 0);
  }

  /* Apply HDR colors to key elements */
  .text-primary-600 {
    color: var(--color-primary-hdr);
  }

  .bg-primary-600 {
    background-color: var(--color-primary-hdr);
  }

  /* Enhanced shadows for HDR with deeper blacks */
  :root {
    --shadow-subtle:
      0 1px 3px color(display-p3 0 0 0 / 0.12), 0 1px 2px color(display-p3 0 0 0 / 0.08);
    --shadow-medium:
      0 4px 12px color(display-p3 0.06 0.08 0.13 / 0.16),
      0 2px 4px color(display-p3 0.06 0.08 0.13 / 0.08);
    --shadow-strong:
      0 24px 48px color(display-p3 0.06 0.08 0.13 / 0.24),
      0 12px 24px color(display-p3 0.06 0.08 0.13 / 0.16);
  }

  /* Brighter highlights for images and media */
  img,
  video {
    filter: contrast(1.05) brightness(1.02);
  }
}

/* View Transitions API Animations */
@supports (view-transition-name: none) {
  /* Customize the default cross-fade transition */
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation-duration: 0.3s;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Slide up animation for new content */
  ::view-transition-new(root) {
    animation-name: slide-from-bottom;
  }

  /* Fade out old content */
  ::view-transition-old(root) {
    animation-name: fade-out;
  }

  @keyframes slide-from-bottom {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  /* Disable view transitions for users who prefer reduced motion */
  @media (prefers-reduced-motion: reduce) {
    ::view-transition-old(root),
    ::view-transition-new(root) {
      animation-duration: 0.01ms !important;
    }
  }

  /* ========================================================================
     ADVANCED PROJECTS PAGE ENHANCEMENTS
     Gold Standard Swiss Design with Modern CSS
     ======================================================================== */

  /* Advanced CSS Grid for Projects - Responsive & Elegant */
  .projects-grid-advanced {
    /* CSS Grid with auto-fit for responsive columns */
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 400px), 1fr));
    gap: var(--space-xl);

    /* Performance optimizations */
    will-change: auto;
    contain: layout;
  }

  /* Responsive breakpoints for projects grid */
  @media (min-width: 1600px) {
    .projects-grid-advanced {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (min-width: 1024px) and (max-width: 1599px) {
    .projects-grid-advanced {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 768px) and (max-width: 1023px) {
    .projects-grid-advanced {
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-lg);
    }
  }

  @media (max-width: 767px) {
    .projects-grid-advanced {
      grid-template-columns: 1fr;
      gap: var(--space-lg);
    }
  }

  /* Project card - Enhanced with modern CSS */
  .project-card {
    /* Hardware acceleration */
    transform: translateZ(0);
    backface-visibility: hidden;

    /* Container query support for future enhancements */
    container-type: inline-size;
  }

  /* Smooth hover transition with cubic bezier */
  .project-card:hover {
    transform: translateY(-4px) translateZ(0);
    box-shadow:
      0 10px 30px -10px rgba(0, 0, 0, 0.15),
      0 0 0 4px var(--swiss-black);
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .project-card {
      border-width: 3px;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .project-card,
    .project-number,
    .project-title,
    .project-accent-bar,
    .project-arrow,
    .project-overlay,
    .project-tag {
      transition: none !important;
      animation: none !important;
    }

    .project-card[data-project-card] {
      opacity: 1 !important;
      transform: none !important;
    }
  }

  /* Print optimization for project cards */
  @media print {
    .project-card {
      break-inside: avoid;
    }

    .project-overlay,
    .project-arrow {
      display: none;
    }
  }
}

@media print {
  .no-print {
    display: none !important;
  }
}
